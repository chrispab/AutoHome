rule "if dark in morning turn on conservatory lights"
when
    Time cron "0 15 07 ? * * *"
then
    logInfo("RULE", "morning lighting if dark")

    if (BridgeLightSensorState.state == OFF) {
        logInfo("RULE", "morning - switching on lights")
        {sendCommand(socketG2_1, ON)} //con lights
        {postUpdate(socketG2_1, ON)}
        {sendCommand(socketG1_4, ON)} // d room lights
        {postUpdate(socketG1_4, ON)}
        {sendCommand(gIkeaLights, ON)} // d room lights
        {postUpdate(gIkeaLights, ON)}
    }
end


rule "turn off lights (if on) when daylight rises"
when
    Item BridgeLightSensorState changed from OFF to ON 
then
    logInfo("RULE", "Light sensor detected - turn off lights when dark to light detected")
        {sendCommand(socketG2_1, OFF)} //con lights
        {postUpdate(socketG2_1, OFF)}
        {sendCommand(socketG1_4, OFF)} // d room lights
        {postUpdate(socketG1_4, OFF)}
        {sendCommand(gIkeaLights, OFF)} // d room lights
        {postUpdate(gIkeaLights, OFF)}
end


rule "Light sensor Turn ON lights"
when
    Item BridgeLightSensorState changed to OFF
then
    logInfo("RULE", "Light sensor detected - gone dark - Turn on lights")
    //turn on
    {sendCommand(socketG2_1, ON)} //con lights
    {postUpdate(socketG2_1, ON)}
    {sendCommand(socketG1_3, ON)} //landinf lights
    {postUpdate(socketG1_3, ON)}
    {sendCommand(socketG1_4, ON)} //DR lights
    {postUpdate(socketG1_4, ON)}    
    {sendCommand(gIkeaLights, ON)} //
    {postUpdate(gIkeaLights, ON)} 
end

