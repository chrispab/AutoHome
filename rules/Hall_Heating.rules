rule "Hall_ heating"
when
    Item HL_Heating_Mode changed or
    Item HL_TemperatureSetpoint changed or
    Item HL_Temperature changed
then
    if (HL_HeatingMode.state == "off") {
        HL_Heater.sendCommand(OFF)
        HL_Heater.postUpdate(OFF)
    }
    else if ( (HL_HeatingMode.state == "auto") || (HL_HeatingMode.state == "manual") )  { //auto
        var Number setpoint = HL_TemperatureSetpoint.state as DecimalType
        var Number turnOnTemp = setpoint //- 0.2// calculate the turn on/off temperatures
        var Number turnOffTemp = setpoint //+ 0.1
        var Number temp = HL_Temperature.state as DecimalType // get the current temperature
        if (temp >= turnOffTemp) {  // determine whether we need to turn on/off the heater
            HL_Heater.sendCommand(OFF)
            // HL_Heater.postUpdate(OFF)
        }else if (temp < turnOnTemp) {
            HL_Heater.sendCommand(ON)
            // HL_Heater.postUpdate(ON)
        } 
    }
end