
rule "zone3 lights on"
when
    Item Zone3LightStatus changed from OFF to ON
then
    {sendCommand(conservatoryFairyLights433Socket, OFF)} //con lights
    {postUpdate(conservatoryFairyLights433Socket, OFF)}
    
    logInfo("RULE", "Z3 lights - on")

    createTimer(now.plusSeconds(2), [|
        {sendCommand(conservatoryFairyLights433Socket, ON)} //CT_Fan433PowerSocket
        {postUpdate(conservatoryFairyLights433Socket, ON)}

        logInfo("RULE", "What happened then?")

        logInfo("RULE", "pulse consv light OFF/ON")
    ])
    createTimer(now.plusSeconds(4), [|
        {sendCommand(conservatoryFairyLights433Socket, OFF)} //CT_Fan433PowerSocket
        {postUpdate(conservatoryFairyLights433Socket, OFF)}

        logInfo("RULE", "What happened then?")

        logInfo("RULE", "pulse consv light OFF/ON")
    ])

    createTimer(now.plusSeconds(6), [|
        {sendCommand(conservatoryFairyLights433Socket, ON)} //CT_Fan433PowerSocket
        {postUpdate(conservatoryFairyLights433Socket, ON)}

        logInfo("RULE", "What happened then?")

        logInfo("RULE", "pulse consv light OFF/ON")
    ])
    // {sendCommand(conservatoryFairyLights433Socket, OFF)} //con lights
    // {postUpdate(conservatoryFairyLights433Socket, OFF)}
 
    // createTimer(now.plusSeconds(1), [|
    //     {sendCommand(conservatoryFairyLights433Socket, ON)} //CT_Fan433PowerSocket
    //     {postUpdate(conservatoryFairyLights433Socket, ON)}

    //     logInfo("RULE", "What happened then?")

    //     logInfo("RULE", "pulse consv light OFF/ON")
    // ])
end
