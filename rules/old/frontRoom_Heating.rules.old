rule "FR_ heating"
when
    Item FR_HeatingMode changed or
    Item FR_TemperatureSetpoint changed or
    Item FR_Temperature changed
then
    //0=Off, 1=On (local setpoint), 2=Auto (follows program), 3=Boost (1 Hour On)
    if (FR_HeatingMode.state == "off") {
        FR_Heater.sendCommand(OFF)
        FR_Heater.postUpdate(OFF)
    }
    else if ( (FR_HeatingMode.state == "auto") || (FR_HeatingMode.state == "manual") )  { //auto
            // logInfo("FR_heating.rules", "-1 turn FR heater: " + FR_Heater.state )

        var Number setpoint = FR_TemperatureSetpoint.state as DecimalType
        var Number turnOnTemp = setpoint //- 0.2// calculate the turn on/off temperatures
        var Number turnOffTemp = setpoint //+ 0.1
        var Number temp = FR_Temperature.state as DecimalType // get the current temperature
                // logInfo("FR_heating.rules", "1 turn FR heater: " + FR_Heater.state )

        if (temp >= turnOffTemp) {  // determine whether we need to turn on/off the heater
            logInfo("heating.rules", "turn FR heater:  OFF: " + temp)

            FR_Heater.sendCommand(OFF)
            FR_Heater.postUpdate(OFF)
        }else if (temp < turnOnTemp) {
            FR_Heater.sendCommand(ON)
            FR_Heater.postUpdate(ON)
            logInfo("heating.rules", "turn FR heater:  ON: " + temp)

        } 
        //delay(10)
        // logInfo("FR_heating.rules", "2 turn FR heater: " + FR_Heater.state )
    }
end